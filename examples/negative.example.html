<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="bootstrap.min.css">
    <link rel="stylesheet" href="maptable.css">
    <title>MapTable: Basic with Map, Filters and Table - minimal options</title>
</head>
<body>

<script src="d3.min.js" charset="utf-8"></script>
<script src="topojson.min.js"></script>
<script src="maptable.js"></script>

<div id="vizContainer" class='container'></div>
<script>
    var viz = d3.maptable('#vizContainer')
            .csv('negative.csv')
            .map({
                countryIdentifierKey: 'country',
                countryIdentifierType: 'name',
                path: 'ne_110m_admin_0_countries.json',
                countries: {
                    attr: { // todo min, max, empty, legend and rollup don't work
                        fill: {
                            min: "#B4C3D1",
                            max: "#043864",
                            minNegative: "#FFB3B3",
                            maxNegative: "tomato",
                            empty: "#f9f9f9",
                            legend: true,
                            transform: function(val) {
                                return val;
                            },
                            rollup: function(groupedData) {
                                if (groupedData[0] != undefined) {
                                    return groupedData[0].widgets;
                                }
                            },
                        },
                        stroke: "#d9d9d9",
                        "stroke-width": 0.5
                    },
                },
                markers: false,
            })
            .filters()
            .table()
            .render();
</script>
</body>
</html>